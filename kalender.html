<!DOCTYPE html>
<html lang="id" class="h-full">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kalender Event - Event App</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f7f8fc;
        }
        .footer-shadow {
            box-shadow: 0 -4px 30px -5px rgba(0, 0, 0, 0.06);
        }
        .calendar-day.has-event {
            position: relative;
        }
        .calendar-day.has-event::after {
            content: '';
            position: absolute;
            bottom: 6px;
            left: 50%;
            transform: translateX(-50%);
            width: 5px;
            height: 5px;
            border-radius: 50%;
            background-color: #4f46e5;
        }
        .calendar-day.selected.has-event::after {
            background-color: white;
        }
    </style>
</head>
<body class="bg-gray-50">

    <div class="relative w-full md:max-w-2xl mx-auto bg-white min-h-screen pb-28">
        
        <header class="bg-white/80 backdrop-blur-lg shadow-sm sticky top-0 z-30">
            <div class="flex items-center px-4 py-5">
                <a href="dashboard.html" class="text-gray-500 mr-4 p-2 rounded-full hover:bg-gray-100 transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5L8.25 12l7.5-7.5" /></svg>
                </a>
                <h1 class="text-xl font-extrabold text-gray-900">Kalender Event</h1>
            </div>
        </header>

        <main class="p-4">
            <div class="bg-white rounded-2xl shadow-lg p-5">
                <div class="flex justify-between items-center mb-6">
                    <button id="prev-month-btn" class="p-2 rounded-full hover:bg-gray-100 transition-colors">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6 text-gray-600"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5L8.25 12l7.5-7.5" /></svg>
                    </button>
                    <h2 id="month-year-title" class="text-lg font-bold text-gray-800"></h2>
                    <button id="next-month-btn" class="p-2 rounded-full hover:bg-gray-100 transition-colors">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6 text-gray-600"><path stroke-linecap="round" stroke-linejoin="round" d="M8.25 4.5l7.5 7.5-7.5 7.5" /></svg>
                    </button>
                </div>
                <div id="calendar-grid" class="grid grid-cols-7 gap-y-3 text-center text-sm"></div>
            </div>

            <div id="event-list-container" class="mt-6">
                <h3 id="event-list-title" class="font-bold text-lg text-gray-900 mb-4"></h3>
                <div id="event-list" class="space-y-3"></div>
            </div>
        </main>

        <footer class="fixed bottom-0 left-0 right-0 bg-white/90 backdrop-blur-sm footer-shadow z-40">
            <div class="max-w-2xl mx-auto flex justify-around items-center h-20">
                <a href="dashboard.html" class="text-center text-gray-400 hover:text-indigo-600 transition-colors" aria-label="Beranda">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-7 h-7 mx-auto"><path fill-rule="evenodd" d="M11.47 2.47a.75.75 0 011.06 0l7.5 7.5a.75.75 0 11-1.06 1.06l-6.22-6.22V21a.75.75 0 01-1.5 0V4.81L4.97 11.03a.75.75 0 01-1.06-1.06l7.5-7.5z" clip-rule="evenodd" /></svg>
                    <span class="block mt-1 text-xs font-semibold">Beranda</span>
                </a>
                <a href="berita.html" class="text-center text-gray-400 hover:text-indigo-600 transition-colors" aria-label="Arsip">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-7 h-7 mx-auto"><path fill-rule="evenodd" d="M2.25 6a3 3 0 013-3h13.5a3 3 0 013 3v12a3 3 0 01-3 3H5.25a3 3 0 01-3-3V6zm1.5 9.75a.75.75 0 01.75-.75h13.5a.75.75 0 01.75.75v2.25a.75.75 0 01-.75.75H5.25a.75.75 0 01-.75-.75v-2.25zm.75-6a.75.75 0 000 1.5h13.5a.75.75 0 000-1.5H4.5z" clip-rule="evenodd" /></svg>
                    <span class="block mt-1 text-xs font-semibold">Arsip</span>
                </a>
                <a href="tiket_saya.html" class="text-center text-gray-400 hover:text-indigo-600 transition-colors" aria-label="Tiket">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-7 h-7 mx-auto"><path fill-rule="evenodd" d="M1.5 6.75a3 3 0 003 3h1.372c.86 0 1.61.586 1.854 1.396.247.81.71 1.533 1.399 2.001.689.468 1.51.604 2.322.388.814-.215 1.579-.807 2.134-1.605.556-.798.87-1.767.97-2.737h1.372c.827 0 1.5-.673 1.5-1.5V4.5a3 3 0 00-3-3H4.5a3 3 0 00-3 3v2.25zM1.5 16.5a3 3 0 003 3h1.372c.86 0 1.61.586 1.854 1.396.247.81.71 1.533 1.399 2.001.689.468 1.51.604 2.322.388.814-.215 1.579-.807 2.134-1.605.556-.798.87-1.767.97-2.737h1.372c.827 0 1.5-.673 1.5-1.5V18a3 3 0 00-3-3H4.5a3 3 0 00-3 3v-1.5z" clip-rule="evenodd" /></svg>
                    <span class="block mt-1 text-xs font-semibold">Tiket</span>
                </a>
                <a href="kalender.html" class="text-center text-indigo-600" aria-label="Kalender">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-7 h-7 mx-auto"><path fill-rule="evenodd" d="M6.75 2.25A.75.75 0 017.5 3v1.5h9V3A.75.75 0 0118 3v1.5h.75a3 3 0 013 3v11.25a3 3 0 01-3 3H5.25a3 3 0 01-3-3V7.5a3 3 0 013-3H6.75V3a.75.75 0 01.75-.75zm10.5 6a1.5 1.5 0 00-1.5 1.5v6a1.5 1.5 0 001.5 1.5h.75a.75.75 0 01.75.75v.75a.75.75 0 01-.75.75h-.75a3 3 0 01-3-3V9.75a3 3 0 013-3h.75a.75.75 0 01.75.75v.75a.75.75 0 01-.75.75h-.75zM12 9.75a.75.75 0 01.75-.75h.75a.75.75 0 01.75.75v.75a.75.75 0 01-.75.75h-.75a.75.75 0 01-.75-.75v-.75zM8.25 9.75a.75.75 0 01.75-.75h.75a.75.75 0 01.75.75v.75a.75.75 0 01-.75.75h-.75a.75.75 0 01-.75-.75v-.75z" clip-rule="evenodd" /></svg>
                    <span class="block mt-1 text-xs font-bold">Kalender</span>
                </a>
                <a href="profil.html" class="text-center text-gray-400 hover:text-indigo-600 transition-colors" aria-label="Profil">
                   <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-7 h-7 mx-auto"><path fill-rule="evenodd" d="M18.685 19.021A8.25 8.25 0 0012 2.25C8.516 2.25 5.347 4.494 4.021 7.765a.75.75 0 00.154.787l.027.042a.75.75 0 00.91.247c1.566-.438 3.12-.997 4.632-1.743a.75.75 0 11.758 1.377 24.002 24.002 0 01-4.632 1.743.75.75 0 00-.91-.247l-.027-.042a.75.75 0 00-.154-.787C5.347 4.494 8.516 2.25 12 2.25c3.484 0 6.653 2.244 7.979 5.515a.75.75 0 00-.154.787l-.027.042a.75.75 0 00-.91.247c-1.566-.438-3.12-.997-4.632-1.743a.75.75 0 11-.758 1.377 24.002 24.002 0 014.632 1.743.75.75 0 00.91.247l.027.042a.75.75 0 00.154-.787C18.653 4.494 15.484 2.25 12 2.25zM12 12.75a3.75 3.75 0 100-7.5 3.75 3.75 0 000 7.5zM12 15.75a7.5 7.5 0 00-7.5 7.5h15a7.5 7.5 0 00-7.5-7.5z" clip-rule="evenodd" /></svg>
                    <span class="block mt-1 text-xs font-semibold">Profil</span>
                </a>
            </div>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const monthYearTitle = document.getElementById('month-year-title');
            const calendarGrid = document.getElementById('calendar-grid');
            const eventListContainer = document.getElementById('event-list-container');
            const eventListTitle = document.getElementById('event-list-title');
            const eventList = document.getElementById('event-list');
            const prevMonthBtn = document.getElementById('prev-month-btn');
            const nextMonthBtn = document.getElementById('next-month-btn');

            let currentDate = new Date();

            // --- DATA EVENT (SIMULASI) ---
            const events = {
                '2025-11-15': [
                    { name: 'Maraton Kota Palu', time: '06:00', location: 'Palu' },
                ],
                '2025-12-05': [
                    { name: 'Konser Amal Musik', time: '19:00', location: 'Amphi Theater' },
                ],
                '2025-11-20': [
                    { name: 'Pameran Seni Rupa', time: '10:00', location: 'Galeri Nasional' },
                    { name: 'Jazz Night', time: '20:00', location: 'Cafe Batavia' },
                ]
            };

            function renderCalendar() {
                calendarGrid.innerHTML = '';
                eventList.innerHTML = '';
                eventListContainer.style.display = 'none';

                const month = currentDate.getMonth();
                const year = currentDate.getFullYear();

                monthYearTitle.textContent = `${currentDate.toLocaleDateString('id-ID', { month: 'long' })} ${year}`;

                const firstDayOfMonth = new Date(year, month, 1).getDay();
                const daysInMonth = new Date(year, month + 1, 0).getDate();

                // Add day names
                const dayNames = ['Min', 'Sen', 'Sel', 'Rab', 'Kam', 'Jum', 'Sab'];
                dayNames.forEach(day => {
                    calendarGrid.innerHTML += `<div class="font-semibold text-gray-500 text-xs">${day}</div>`;
                });

                // Add empty cells for days before the first day of the month
                for (let i = 0; i < firstDayOfMonth; i++) {
                    calendarGrid.innerHTML += '<div></div>';
                }

                // Add days of the month
                for (let i = 1; i <= daysInMonth; i++) {
                    const dateStr = `${year}-${String(month + 1).padStart(2, '0')}-${String(i).padStart(2, '0')}`;
                    const hasEvent = events[dateStr];
                    const isToday = new Date().toDateString() === new Date(year, month, i).toDateString();

                    let dayClass = 'calendar-day h-10 w-10 flex items-center justify-center rounded-full cursor-pointer hover:bg-gray-100 transition-colors';
                    if (hasEvent) dayClass += ' has-event';
                    if (isToday) dayClass += ' bg-blue-100 text-blue-600 font-bold';

                    calendarGrid.innerHTML += `<div class="${dayClass}" data-date="${dateStr}">${i}</div>`;
                }

                // Add event listeners to the new calendar days
                document.querySelectorAll('.calendar-day').forEach(day => {
                    day.addEventListener('click', function() {
                        const date = this.dataset.date;
                        showEventsForDate(date);

                        // Update selected state
                        document.querySelectorAll('.calendar-day.selected').forEach(d => d.classList.remove('selected', 'bg-indigo-600', 'text-white'));
                        this.classList.add('selected', 'bg-indigo-600', 'text-white');
                    });
                });
            }

            function showEventsForDate(date) {
                const eventsForDate = events[date];
                eventList.innerHTML = '';

                const displayDate = new Date(date + 'T00:00:00').toLocaleDateString('id-ID', { weekday: 'long', day: 'numeric', month: 'long' });
                eventListTitle.textContent = `Event pada ${displayDate}`;

                if (eventsForDate) {
                    eventListContainer.style.display = 'block';
                    eventsForDate.forEach(event => {
                        eventList.innerHTML += `
                            <div class="bg-white p-4 rounded-xl shadow-md flex items-center space-x-4">
                                <div class="w-12 h-12 bg-indigo-100 text-indigo-600 rounded-lg flex flex-col items-center justify-center font-bold">
                                    <span>${event.time.split(':')[0]}</span>
                                    <span class="text-xs">${event.time.split(':')[1]}</span>
                                </div>
                                <div class="flex-1">
                                    <p class="font-bold text-gray-800">${event.name}</p>
                                    <p class="text-sm text-gray-500">${event.location}</p>
                                </div>
                            </div>
                        `;
                    });
                } else {
                    eventListContainer.style.display = 'block';
                    eventList.innerHTML = '<p class="text-center text-gray-500 py-4">Tidak ada event pada tanggal ini.</p>';
                }
            }

            prevMonthBtn.addEventListener('click', () => {
                currentDate.setMonth(currentDate.getMonth() - 1);
                renderCalendar();
            });

            nextMonthBtn.addEventListener('click', () => {
                currentDate.setMonth(currentDate.getMonth() + 1);
                renderCalendar();
            });

            renderCalendar();
        });
    </script>
</body>
</html>